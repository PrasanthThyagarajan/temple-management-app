<!DOCTYPE html>
<html>
<head>
    <title>Test Contribution Settings</title>
</head>
<body>
    <h1>Testing Contribution Settings Page</h1>
    <p>Opening contribution settings page in iframe...</p>
    <iframe src="http://127.0.0.1:5173/contribution-settings" width="100%" height="600" style="border: 1px solid #ccc;"></iframe>
    
    <h2>Direct API Test</h2>
    <button onclick="testAPI()">Test API</button>
    <pre id="result"></pre>
    
    <script>
        // Set auth for testing
        localStorage.setItem('basicAuth', btoa('admin:admin123'));
        localStorage.setItem('user', JSON.stringify({
            username: 'admin',
            email: 'admin@temple.com',
            fullName: 'System Administrator',
            roles: ['Admin'],
            permissions: []
        }));
        
        async function testAPI() {
            try {
                const response = await fetch('http://localhost:5051/api/contribution-settings', {
                    headers: {
                        'Authorization': 'Basic ' + btoa('admin:admin123')
                    }
                });
                const data = await response.json();
                document.getElementById('result').textContent = JSON.stringify(data, null, 2);
            } catch (error) {
                document.getElementById('result').textContent = 'Error: ' + error.message;
            }
        }
    </script>
</body>
</html>
